var t,e,i,s,n,h;(t=>{t.SystemBackGround='SYSTEMBACKGROUND',t.BackGround='BACKGROUND',t.MiddleGround='MIDDLEGROUND',t.ForeGround='FOREGROUND'})(t||(t={}));class r{constructor(t){this.delayValue=t,this.lastFrameRun=null}isSegChanged(t){if(null==this.lastFrameRun)return this.lastFrameRun=t,!0;const e=t-this.lastFrameRun;return e<=0||this.delayValue<=e&&(this.lastFrameRun=t,!0)}}class a{constructor(t,e,i,s,n=0){if(this.delay=new r(n),this.startValue=i,this._animatedValue=null,this.endValue=s,this.beyondValue=s,this.delaySec=n,t<0||e<0)throw new Error('time can not be negative');if(e<=t)throw new Error('end Time can not be equal or smaller than start time');this.rTimeMsStart=t,this.rTimeMsEnd=e}update(t){return!0}isBeyond(t){return t>this.rTimeMsEnd&&(this._animatedValue=this.beyondValue,!0)}setBaseValue(t){return this.startValue=t,this.startValue}getBaseValue(){return this.startValue}setBeyondValue(t){return this.beyondValue=t,this.startValue}getBeyondValue(){return this.beyondValue}setEndValue(t){return this.endValue=t,this.endValue}getEndValue(){return this.endValue}animatedValue(){return null==this._animatedValue?this.startValue:this._animatedValue}getRandom(t,e){return Math.floor(Math.random()*(e-t+1)+t)}}class o extends a{constructor(t,e,i,s,n=0){super(t,e,i,s,n)}animatedValue(){return this.startValue}}class l extends a{constructor(t,e,i,s,n=0){super(t,e,i,s,n)}update(t){return 1!=this.isBeyond(t)&&(1==this.delay.isSegChanged(t)&&(null==this._animatedValue?(this._animatedValue=this.startValue,!0):this._animatedValue==this.startValue?(this._animatedValue=this.endValue,!0):(this._animatedValue=this.startValue,!1)))}}class d{constructor(t){this.filtersArr=[],this.defaultFilter=new o(0,100,t,t),this._value=null}update(t){const e=this.getBaseFilter(t);if(null==e)return this._value=this.defaultFilter.animatedValue(),!1;{e.update(t);const i=e.animatedValue();this._value=null!==i?i:this.defaultFilter.animatedValue()}return!0}value(){return null==this._value?this.defaultFilter.animatedValue():this._value}set(t){return this.defaultFilter.setBaseValue(t),t}getBaseFilter(t){if(this.filtersArr.length<1)return null;let e=0,i=null;for(let s=0;s<this.filtersArr.length;s++){const n=this.filtersArr[s];t>=n.rTimeMsStart&&n.rTimeMsStart>=e&&(e=n.rTimeMsStart,i=n)}return i}addFilter(t){for(let e=0;e<this.filtersArr.length;e++){const i=this.filtersArr[e];if(i.rTimeMsStart==t.rTimeMsStart)throw new Error(`There is another animation inserted at exectly this frame (number ${i.rTimeMsStart}), please either remove the previous animation or change time for your new animation`)}this.filtersArr.push(t)}goto(t,e){const i=new o(1e3*t,1e3*t+1e3,e,e,0);return this.addFilter(i),!1}jumpBetween(t,e,i,s,n=1e3){const h=new l(1e3*t,1e3*e,i,s,1e3*n);this.addFilter(h)}}class c extends a{constructor(t,e,i,s,n=0){super(t,e,i,s,n)}}class u extends c{constructor(t,e,i,s,n=0){if(super(t,e,i,s,n),this.startValue>=this.endValue)throw new Error('start value can not be equal to or larger than end value in an increment operation');this.timeDiff=Math.abs(this.rTimeMsEnd-this.rTimeMsStart)}update(t){if(1==this.isBeyond(t))return!1;const e=Math.abs(this.startValue-this.endValue)/100*(Math.ceil(t-this.rTimeMsStart)/this.timeDiff*100);return this._animatedValue=this.startValue+parseFloat(e.toFixed(2)),!0}}class _ extends c{constructor(t,e,i,s,n=0){if(super(t,e,i,s,1e3*n),this.startValue<=this.endValue)throw new Error('end value can not be equal to or larger than start value in an decrement operation');if(this.startValue<0)throw new Error('start value can not be less than zero in decrement operation');this.timeDiff=Math.abs(this.rTimeMsStart-this.rTimeMsEnd)}update(t,e=0){if(1==this.isBeyond(t))return!1;const i=Math.abs(this.startValue-this.endValue),s=Math.ceil(t-this.rTimeMsStart)/this.timeDiff*100,n=i/100*Math.abs(100-s);return this._animatedValue=Math.ceil(this.endValue+n),!0}}class p extends a{constructor(t,e,i,s,n=1){super(t,e,i,s,n)}update(t){return 1!=this.isBeyond(t)&&(1==this.delay.isSegChanged(t)&&(this._animatedValue=this.getRandom(this.startValue,this.endValue),!0))}}class m extends a{constructor(t,e,i,s,n=1,h=s){super(t,e,i,s,n),this.incDecArray=[],this.beyondValue=h;const r=this.rTimeMsEnd-this.rTimeMsStart,a=Math.floor(r/this.delay.delayValue);let o=i<s;for(let t=0;t<a;t++)if(1==o){o=!o;const e=this.rTimeMsStart+t*this.delay.delayValue,n=e+this.delay.delayValue;let h=new u(e,n,i,s);this.incDecArray.push(h)}else{o=!o;const e=this.rTimeMsStart+t*this.delay.delayValue,n=e+this.delay.delayValue;let h=new _(e,n,s,i);this.incDecArray.push(h)}}update(t){if(1==this.isBeyond(t))return!1;for(let e=0;e<this.incDecArray.length;e++){const i=this.incDecArray[e];if(i.rTimeMsStart<t&&i.rTimeMsEnd>t)return i.update(t),this._animatedValue=i.animatedValue(),!0}return!0}}class T extends d{constructor(t=0,e=-3e3,i=3e3){super(t),this.minValue=e,this.maxValue=i}animate(t,e,i,s){if(i<s){let n=new u(1e3*t,1e3*e,i,s,0);this.addFilter(n)}else if(i>s){let n=new _(1e3*t,1e3*e,i,s,0);this.addFilter(n)}}random(t,e,i=0,s=100,n=10){const h=new p(1e3*t,1e3*e,i,s,n);this.addFilter(h)}oscillate(t,e,i,s,n=1,h=s){if(i>s)throw new Error('for oscillate operation the startValue can not be bigger than endValue, however in future this restriction may be lifted.');const r=new m(1e3*t,1e3*e,i,s,1e3*n,h);this.addFilter(r)}vibrate(t,e,i=10,s=100){}}class g{constructor(t){this.filtersArr=t}init(t){for(let e=0;e<this.filtersArr.length;e++){let i=this.filtersArr[e];if((i instanceof o||i instanceof u||i instanceof _||i instanceof p)&&(i.setBaseValue(this.responsiveValue(t,i.getBaseValue())),i.setEndValue(this.responsiveValue(t,i.getEndValue())),i.setBeyondValue(this.responsiveValue(t,i.getBeyondValue()))),i instanceof m){const s=new m(i.rTimeMsStart,i.rTimeMsEnd,this.responsiveValue(t,i.getBaseValue()),this.responsiveValue(t,i.getEndValue()),i.delay.delayValue,this.responsiveValue(t,i.getBeyondValue()));this.filtersArr[e]=s}}}responsiveValue(t,e){return t/100*e}}class A extends T{constructor(t=0,e=!0,i=-3e3,s=3e3){super(t),this.initialized=!1,this.canvasWidthHeight=null,this.initObj=new g(this.filtersArr)}init(t){if(1==this.initialized)return;this.initialized=!0,this.canvasWidthHeight=t;const e=new o(0,100,this.responsiveValue(this.canvasWidthHeight,this.defaultFilter.getBaseValue()),this.responsiveValue(this.canvasWidthHeight,this.defaultFilter.getBaseValue()));this.defaultFilter=e,this.initObj.init(this.canvasWidthHeight)}responsiveValue(t,e){return t/100*e}}class w extends d{constructor(t=''){super(t)}}class L extends d{constructor(t=!0){super(t)}}class E extends d{constructor(t=''){super(t)}random(t,e,i){}}(t=>{t.Round='round',t.Butt='butt',t.Square='square'})(e||(e={})),(t=>{t.Arial='Arial',t.ArialBlack='Arial Black',t.Verdana='Verdana',t.Tahoma='Tahoma',t.Impact='Impact',t.Times='Times',t.Helvetica='Helvetica',t.TimesNewRoman='Times New Roman',t.Didot='Didot',t.Calibri='Calibri',t.Georgia='Georgia',t.AmericanTypewriter='American Typewriter',t.Courier='Courier',t.CourierNew='Courier New',t.LucidaConsole='Lucida Console',t.Monaco='Monaco',t.BradleyHand='Bradley Hand',t.BrushScriptMT='Brush Script MT',t.BrushScript='Brush Script',t.Luminari='Luminari'})(i||(i={}));class I{constructor(){this.fontSize=25,this.fontFamily=i.Luminari,this.fillStyle='green',this.strokeStyle='red',this.lineWidth=2,this.shadowColor='black',this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0,this.opacity=1,this.lineCap=e.Round,this.lineDash=[]}merge(t){null!==t.lineCap&&(this.lineCap=t.lineCap),null!==t.opacity&&(this.opacity=t.opacity),null!==t.shadowBlur&&(this.shadowBlur=t.shadowBlur),null!==t.shadowOffsetY&&(this.shadowOffsetY=t.shadowOffsetY),null!==t.shadowOffsetX&&(this.shadowOffsetX=t.shadowOffsetX),null!==t.lineWidth&&(this.lineWidth=t.lineWidth),null!==t.shadowColor&&(this.shadowColor=t.shadowColor),null!==t.strokeStyle&&(this.strokeStyle=t.strokeStyle),null!==t.fillStyle&&(this.fillStyle=t.fillStyle),null!==t.fontSize&&(this.fontSize=t.fontSize),null!==t.fontFamily&&(this.fontFamily=t.fontFamily),null!==t.lineDash&&(this.lineDash=t.lineDash)}}(t=>{t.Left='LEFT',t.Right='RIGHT',t.Mid='MID'})(s||(s={})),(t=>{t.Top='TOP',t.Mid='MID',t.Bot='BOT'})(n||(n={}));class y{constructor(t){this.comp=t}leftIn(){return this.comp.x.animate(this.comp.getStartTime(!1),this.comp.getStartTime(!1)+2,-this.comp.width.value(),this.comp.x.value()),this.comp}rightIn(){return this.comp.x.animate(this.comp.getStartTime(!1),this.comp.getStartTime(!1)+1,100+this.comp.width.value(),this.comp.x.value()),this.comp}bottomIn(){return this.comp.y.animate(this.comp.getStartTime(!1),this.comp.getStartTime(!1)+1,100+this.comp.height.value(),this.comp.y.value()),this.comp}topIn(){return this.comp.y.animate(this.comp.getStartTime(!1),this.comp.getStartTime(!1)+1,3*this.comp.height.value()*-1,this.comp.y.value()),this.comp}fadeIn(){return this.comp.opacity.animate(this.comp.getStartTime(!1),this.comp.getStartTime(!1)+1,0,100),this.comp}}class f{constructor(t){this.comp=t}leftOut(){return this.comp.x.animate(this.comp.getEndTime(!1)-2,this.comp.getEndTime(!1),this.comp.x.value(),-this.comp.width.value()),this.comp}rightOut(){return this.comp.x.animate(this.comp.getEndTime(!1)-1,this.comp.getEndTime(!1),this.comp.x.value(),100+this.comp.width.value()),this.comp}bottomOut(){return this.comp.y.animate(this.comp.getEndTime(!1)-1,this.comp.getEndTime(!1),this.comp.y.value(),100+this.comp.height.value()),this.comp}topOut(){return this.comp.y.animate(this.comp.getEndTime(!1)-1,this.comp.getEndTime(!1),this.comp.y.value(),-1*this.comp.height.value()),this.comp}fadeOut(){return this.comp.opacity.animate(this.comp.getEndTime(!1)-1,this.comp.getEndTime(!1),100,0),this.comp}}class R extends class extends class extends class extends class extends class extends class{constructor(){this.version='0.0.30',this.alwaysOn=!1,this.XAlignOpt=s,this.YAlignOpt=n,this.xAlign=this.XAlignOpt.Left,this.yAlign=this.YAlignOpt.Top,this.xRotate=this.XAlignOpt.Left,this.yRotate=this.YAlignOpt.Top,this.interactive=!1,this.width=new A(10),this.height=new A(10),this.rotation=new T(0),this.opacity=new T(100),this.color=new E('#000000'),this.drawLayer=t.MiddleGround,this.id=Math.random().toString(36).slice(2),this.style=new I,this.selected=!1,this.visible=new L(!0),this.x=new A(0),this.y=new A(0),this.paddingTop=new T(0),this.paddingBottom=new T(0),this.paddingRight=new T(0),this.paddingLeft=new T(0),this.border=new T(0),this.colorBorder=new E('#000000'),this.borderContentArea=new T(2),this.colorContentAreaBorder=new E('black'),this.colorBackground=new E('#ffffff'),this.showBackground=new L(!1)}setRespPadding(t=!1){return 1==t?(this.paddingTop=new A(0),this.paddingBottom=new A(0),this.paddingRight=new A(0),this.paddingLeft=new A(0),!0):(this.paddingTop=new T(0),this.paddingBottom=new T(0),this.paddingRight=new T(0),this.paddingLeft=new T(0),!1)}setRespLoc(t=!0){const e=this.x.value(),i=this.y.value();return 1==t?(this.x=new A(0),this.y=new A(0),this.x.set(e),this.y.set(i),!0):(this.x=new T(0),this.y=new T(0),this.x.set(e),this.y.set(i),!1)}setRespDims(t=!0){return 1==t?(this.width=new A(0),this.height=new A(0),!0):(this.width=new T(0),this.height=new T(0),!1)}}{constructor(){super(),this._startFrame=null,this._endFrame=null}setTimings(t,e){const i=e-t;if(i<1||void 0===i)throw new Error('please make sure that startFrame is smaller than endFrame');return this._startFrame=t,this._endFrame=e,i}getDuration(){if(null==this._endFrame||null==this._startFrame)throw new Error('duration not yet set, please call setDuration first');const t=this._endFrame-this._startFrame;if(t<1||void 0===t)throw new Error('please make sure that startFrame is smaller than endFrame');return t}getEndTime(t=!0){if(null==this._endFrame)throw new Error('duration not yet set');let e=this._endFrame;return t?1e3*e:e}getStartTime(t=!0){if(null==this._startFrame)throw new Error('duration not yet set');return t?1e3*this._startFrame:this._startFrame}}{constructor(){super(),this.shadowColor='grey',this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOff(){this.style.shadowBlur=0,this.style.shadowOffsetX=0,this.style.shadowOffsetY=0}setShadow(t=8,e=10,i=10,s='grey'){this.style.shadowBlur=t,this.style.shadowOffsetX=e,this.style.shadowOffsetY=i,this.style.shadowColor=s}shadowsOn(){this.style.shadowBlur=8,this.style.shadowOffsetX=10,this.style.shadowOffsetY=10,this.style.shadowColor='grey'}}{constructor(){super()}contentWidth(){return this.width.value()}contentHeight(){return this.height.value()}compWidth(){return this.contentWidth()+this.paddingLeft.value()+this.paddingRight.value()}compHeight(){return this.contentHeight()+this.paddingTop.value()+this.paddingBottom.value()}}{constructor(){super(),this.charsWidth=null}draw(t){return!0}goto(t,e,i){return this.x.goto(t,e),this.y.goto(t,i),!0}animate(t,e,i,s,n,h){return this.x.animate(t,e,i,s),this.y.animate(t,e,n,h),!0}align(t=null,e=null){switch(t){case 0:this.xAlign=s.Left;break;case 1:this.xAlign=s.Mid;break;case 2:this.xAlign=s.Right}switch(e){case 0:this.yAlign=n.Top;break;case 1:this.yAlign=n.Mid;break;case 2:this.yAlign=n.Bot}}alignRotate(t=null,e=null){switch(t){case 0:this.xRotate=s.Left;break;case 1:this.xRotate=s.Mid;break;case 2:this.xRotate=s.Right}switch(e){case 0:this.yRotate=n.Top;break;case 1:this.yRotate=n.Mid;break;case 2:this.yRotate=n.Bot}}xAligned(){let t=this.x.value();switch(this.xAlign){case this.XAlignOpt.Left:break;case this.XAlignOpt.Mid:t-=this.compWidth()/2;break;case this.XAlignOpt.Right:t-=this.compWidth()}return t}yAligned(){let t=this.y.value();switch(this.yAlign){case this.YAlignOpt.Top:break;case this.YAlignOpt.Mid:t-=this.compHeight()/2;break;case this.YAlignOpt.Bot:t-=this.compHeight()}return t}xRotateAligned(){let t=this.xAligned();switch(this.xRotate){case this.XAlignOpt.Left:break;case this.XAlignOpt.Mid:t+=this.compWidth()/2;break;case this.XAlignOpt.Right:t+=this.compWidth()}return t}yRotateAligned(){let t=this.yAligned();switch(this.yRotate){case this.YAlignOpt.Top:break;case this.YAlignOpt.Mid:t+=this.compHeight()/2;break;case this.YAlignOpt.Bot:t+=this.compHeight()}return t}}{constructor(){super()}applyRotation(t){t.save(),t.translate(this.xRotateAligned(),this.yRotateAligned()),t.rotate(this.rotation.value()),t.translate(-this.xRotateAligned(),-this.yRotateAligned())}removeRotation(t){t.restore()}}{constructor(){super(),this._canvasWidth=null,this._canvasHeight=null,this.entryAni=new y(this),this.exitAni=new f(this)}init(t){return this._canvasWidth=t.canvasWidth(),this._canvasHeight=t.canvasHeight(),this.width instanceof A&&this.height instanceof A&&(this.width.init(this.canvasWidth()),this.height.init(this.canvasHeight())),this.x instanceof A&&this.y instanceof A&&(this.x.init(this.canvasWidth()),this.y.init(this.canvasHeight())),this.paddingLeft instanceof A&&this.paddingRight instanceof A&&this.paddingTop instanceof A&&this.paddingBottom instanceof A&&(this.paddingLeft.init(this.canvasWidth()),this.paddingRight.init(this.canvasWidth()),this.paddingTop.init(this.canvasHeight()),this.paddingBottom.init(this.canvasHeight())),!0}update(t,e){return this.color.update(t),this.x.update(t),this.y.update(t),this.visible.update(t),this.rotation.update(t),this.opacity.update(t),this.width.update(t),this.height.update(t),this.paddingLeft.update(t),this.paddingRight.update(t),this.paddingTop.update(t),this.paddingBottom.update(t),this.border.update(t),this.colorBackground.update(t),this.colorBorder.update(t),!0}drawBackground(t){0!=this.showBackground.value()&&(this.style.fillStyle=this.colorBackground.value(),this.style.strokeStyle=this.colorBackground.value(),t.drawFillRect(this.xAligned(),this.yAligned(),this.compWidth(),this.compHeight(),this.style))}drawBorder(t){this.border.value()<1||(this.style.strokeStyle=this.colorBorder.value(),this.style.fillStyle=this.colorBorder.value(),this.style.lineWidth=this.border.value(),t.drawRect(this.xAligned()-Math.floor(this.border.value()/2),this.yAligned()-Math.floor(this.border.value()/2),this.compWidth()+Math.floor(this.border.value()-1),this.compHeight()+Math.floor(this.border.value()-1),this.style))}drawContentAreaBorder(t){this.borderContentArea.value()<1||(this.style.strokeStyle=this.colorContentAreaBorder.value(),this.style.fillStyle=this.colorContentAreaBorder.value(),this.style.lineWidth=this.borderContentArea.value(),t.drawRect(this.contentX()-Math.floor(this.borderContentArea.value()/2),this.contentY()-Math.floor(this.borderContentArea.value()/2),this.contentWidth()+Math.floor(this.borderContentArea.value()-1),this.contentHeight()+Math.floor(this.borderContentArea.value()-1),this.style))}preDraw(t){this.style.opacity=this.opacity.value(),this.applyRotation(t),this.drawBackground(t),this.drawBorder(t)}postDraw(t){this.style.opacity=100,this.removeRotation(t)}contentY(){return this.yAligned()+this.paddingTop.value()}contentX(){return this.xAligned()+this.paddingLeft.value()}setPaddings(t){this.paddingLeft.set(t),this.paddingRight.set(t),this.paddingTop.set(t),this.paddingBottom.set(t)}setxy(t,e=null){null==e&&(e=t),this.x.set(t),this.y.set(e)}canvasHeight(){if(null==this._canvasHeight)throw new Error('the lib may not be initiailzed yet');return this._canvasHeight}canvasWidth(){if(null==this._canvasWidth)throw new Error('the lib may not be initiailzed yet');return this._canvasWidth}}class v extends R{constructor(e='#efeee3'){super(),this.drawLayer=t.SystemBackGround,this.color.set(e)}draw(t){return t.drawBackground(this.color.value()),!0}}class C{constructor(){this.runningStartTimeTS=null,this._stopFlag=!0}isRunning(){return null!=this.runningStartTimeTS}shouldStop(){return this._stopFlag}stop(){return this.runningStartTimeTS=null,this._stopFlag=!0,!0}start(){return this._stopFlag=!1,this.runningStartTimeTS=(new Date).getTime(),!0}getMsDelta(){if(null==this.runningStartTimeTS)return 0;return(new Date).getTime()-this.runningStartTimeTS}}class W{constructor(t){this.clearCanvasBwFrames=!0,this.loadSystemBackground=!0,this.pack=t}disableOpacity(){this.pack.disableOpacity=!0}enableOpacity(){this.pack.disableOpacity=!1}}class H{constructor(){this.compArray=[]}push(t){return this.compArray.push(t),t}init(t){for(let e=0;e<this.compArray.length;e++)this.compArray[e].init(t);return!0}drawByDrawLayer(t,e,i){for(let s=0;s<this.compArray.length;s++){let n=this.compArray[s];n.drawLayer==e&&this.qualifyForDraw(n,t)&&(i.save(),n.update(t,i),n.draw(i),i.restore())}return!0}qualifyForDraw(t,e){return 0!=t.visible.value()&&(1==t.alwaysOn||t.getStartTime(!0)<=e&&t.getEndTime(!0)>e)}len(){return this.compArray.length}}class S extends R{constructor(e=10,i=10,s='grey'){super(),this.fontSize=new T(12),this.width.set(100),this.height.set(100),this.cellWidth=new A(e),this.cellHeight=new A(i),this.colorHorizontalLines=new E(s),this.colorVerticalLines=new E(s),this.colorNumbers=new E('black'),this.showNumbers=new L(!0),this.showHorizontalLines=new L(!0),this.showVerticalLines=new L(!0),this.lineWidthVertical=new T(1),this.lineWidthHorizontal=new T(1),this.lineDash=[],this.drawLayer=t.BackGround}init(t){if(super.init(t),null==this.canvasWidth||null==this.canvasHeight)throw new Error('init error');return this.cellWidth instanceof A&&this.cellHeight instanceof A&&(this.cellWidth.init(this.contentWidth()),this.cellHeight.init(this.contentHeight())),!0}update(t,e){return this.cellWidth.update(t),this.cellHeight.update(t),this.showHorizontalLines.update(t),this.showVerticalLines.update(t),this.lineWidthVertical.update(t),this.lineWidthHorizontal.update(t),this.colorHorizontalLines.update(t),this.colorVerticalLines.update(t),this.fontSize.update(t),this.colorNumbers.update(t),this.showNumbers.update(t),super.update(t,e)}draw(t){return this.preDraw(t),1==this.showHorizontalLines.value()&&this.draw_horizontal(t),1==this.showVerticalLines.value()&&this.draw_vertical(t),this.postDraw(t),!0}setRespCellDims(t=!0,e=10,i=10){return 1==t?(this.cellWidth=new A(e),this.cellHeight=new A(i),!0):(this.cellWidth=new T(e),this.cellHeight=new T(i),!1)}draw_horizontal(t){let e=0,i=!1;do{this.drawGridLine(t,0,e,this.contentWidth(),e,e,'horizontal'),this.contentY()+e==this.contentWidth()&&(i=!0),e+=this.cellHeight.value()}while(this.contentHeight()>=e);0==i&&this.drawGridLine(t,0,this.contentHeight(),this.contentWidth(),this.contentHeight(),this.contentY()+this.contentHeight(),'horizontal')}draw_vertical(t){let e=0,i=!1;do{this.drawGridLine(t,e,0,e,this.contentHeight(),e,'vertical'),this.contentX()+e==this.contentWidth()&&(i=!0),e+=this.cellWidth.value()}while(this.contentWidth()>=e);0==i&&this.drawGridLine(t,this.contentWidth(),0,this.contentWidth(),this.contentHeight(),this.contentX()+this.contentWidth(),'vertical')}drawGridLine(t,e,i,s,n,h,r){this.style.opacity=this.opacity.value(),this.style.lineDash=this.lineDash,'vertical'==r&&(this.style.fillStyle=this.colorVerticalLines.value(),this.style.strokeStyle=this.colorVerticalLines.value(),this.style.lineWidth=this.lineWidthVertical.value()),'horizontal'==r&&(this.style.fillStyle=this.colorHorizontalLines.value(),this.style.strokeStyle=this.colorHorizontalLines.value(),this.style.lineWidth=this.lineWidthHorizontal.value()),t.drawLine(this.contentX()+e,this.contentY()+i,this.contentX()+s,this.contentY()+n,this.style),1==this.showNumbers.value()&&this.drawText(t,Math.ceil(h),this.contentX()+e,this.contentY()+i+2)}drawText(t,e,i,s){0!=this.showNumbers.value()&&(this.style.fontSize=this.fontSize.value(),this.style.strokeStyle=this.colorNumbers.value(),this.style.fillStyle=this.colorNumbers.value(),t.drawText(e.toString(),i+this.lineWidthVertical.value(),s+this.lineWidthHorizontal.value(),this.style))}}class x extends R{constructor(t='#000000'){super(),this.color.set(t),this.lineWidth=new T(1)}update(t,e){return super.update(t,e),this.lineWidth.update(t),!0}draw(t){return this.preDraw(t),this.style.fillStyle=this.color.value(),this.style.strokeStyle=this.color.value(),this.style.lineWidth=this.lineWidth.value(),t.drawRect(this.contentX(),this.contentY(),this.width.value(),this.height.value(),this.style),this.postDraw(t),!0}}class N extends R{constructor(t='#000000'){super(),this.color.set(t)}draw(t){return this.preDraw(t),this.style.fillStyle=this.color.value(),this.style.strokeStyle=this.color.value(),t.drawFillRect(this.contentX(),this.contentY(),this.width.value(),this.height.value(),this.style),this.postDraw(t),!0}}class O{constructor(t){this.comp=t}hdg(t=1,e=10,i=10){return this.setXAlignment(t,0),this.comp.y.set(e),this.comp.fitToHeight.set(!0),this.comp.height.set(i),this.comp.fitToWidth.set(!1),this.comp.width.set(100),this.comp.showBackground.set(!0),this.comp.border.set(5),this.comp.setPaddings(8),this.comp}jumbotron(t=1,e=50,i=30){return this.setXAlignment(t,1),this.comp.y.set(e),this.comp.width.set(80),this.comp.fitToWidth.set(!0),this.comp.setPaddings(10),this.comp.showBackground.set(!0),this.comp.border.set(5),this.comp}ftNote(t,e,i){return this.setXAlignment(t),this.comp.y.set(e),this.comp.showBackground.set(!0),this.comp.border.set(1),this.comp.setPaddings(4),this.comp}bltPt(t,e,i){return this.setXAlignment(t),this.comp.y.set(e),this.comp.fitToWidth.set(!1),this.comp.width.set(300),this.comp.fitToHeight.set(!0),this.comp.height.set(i),this.comp.showBackground.set(!0),this.comp.border.set(0),this.comp.setPaddings(3),this.comp.fontSize.set(120),this.comp.height.set(i),this.comp}setXAlignment(t=0,e=0){switch(t){case 2:this.comp.align(t,e),this.comp.x.set(100);break;case 1:this.comp.align(t,e),this.comp.x.set(50);break;default:this.comp.align(t,e),this.comp.x.set(0)}}}class B{constructor(t){this.comp=t}color(t){return this.comp.color.set(at(t)),this.comp.colorBorder.set(at(t)),this.comp.colorBackground.set(at(t,30,90)),this.comp}}class G extends R{constructor(e='',s='#000000'){super(),this.content=new w(e),this.fontSize=new T(20),this.maxDisplayChars=new T(1e3),this.fontFamily=i.Calibri,this.fitToWidth=new L(!1),this.fitToHeight=new L(!1),this.respFontSize=new L(!0),this.drawLayer=t.MiddleGround,this.templ=new O(this),this.theme=new B(this),this._oldWidth=null,this._oldHeight=null,this.color.set(s),this.width.set(300),this.height.set(300)}update(t,e){return 1==this.fitToHeight.value()?1==this.hasHeightChanged()&&this.fitToHeightFn(e):this.shrinkToHeightFn(e),1==this.fitToWidth.value()?1==this.hasWidthChanged()&&this.fitToWidthFn(e):this.shrinkToWidthFn(e),super.update(t,e),0==this.fitToWidth.value()&&0==this.fitToHeight.value()&&this.fontSize.update(t),this.content.update(t),this.maxDisplayChars.update(t),this.respFontSize.update(t),this.fitToWidth.update(t),this.fitToHeight.update(t),!0}contentHeight(){if(null==this.charsWidth)throw new Error('init error');return this.maxDisplayChars.value()<1?0:this.charsWidth('W',this.fontSize.value(),this.fontFamily)}contentWidth(){if(null==this.charsWidth)throw new Error('init error');return this.charsWidth(this.content.value().substring(0,this.maxDisplayChars.value()),this.fontSize.value(),this.fontFamily)}draw(t){return this.preDraw(t),this.drawContent(t),this.postDraw(t),!0}drawContent(t){this.style.fillStyle=this.color.value(),this.style.strokeStyle=this.color.value(),this.style.fontSize=this.fontSize.value(),this.style.fontFamily=this.fontFamily,t.drawText(this.content.value().substring(0,this.maxDisplayChars.value()),this.contentX(),this.contentY(),this.style)}fitToWidthFn(t){const e=this.width.value();this.style.fontSize=this.fontSize.value(),this.style.fontFamily=this.fontFamily;for(let i=1;i<900;i++){if(t.charsWidth(this.content.value(),i,this.style.fontFamily)>=e)return this.fontSize.set(i),this.style.fontSize=i,this.fontSize.value()}return null}fitToHeightFn(t){const e=1.12*this.height.value();return this.fontSize.set(e),this.style.fontSize=this.fontSize.value(),e}shrinkToHeightFn(t){if(null==this.charsWidth)throw new Error('init error');this.style.fontFamily=this.fontFamily;const e=this.height.value();if(this.charsWidth('W',this.fontSize.value(),this.style.fontFamily)<e)return!0;for(let i=300;i>0;i--){if(t.charsWidth('W',i,this.style.fontFamily)<=e)return this.fontSize.set(i),this.style.fontSize=i,!0}return!0}shrinkToWidthFn(t){if(null==this.charsWidth)throw new Error('init error');this.style.fontFamily=this.fontFamily,this.style.fontSize=this.fontSize.value();const e=this.width.value();if(this.charsWidth(this.content.value(),this.fontSize.value(),this.style.fontFamily)<e)return!0;for(let i=400;i>0;i--){if(t.charsWidth(this.content.value(),i,this.style.fontFamily)<=e)return this.fontSize.set(i),this.style.fontSize=i,!0}return!0}hasWidthChanged(){return(null==this._oldWidth||this._oldWidth!=this.width.value())&&(this._oldWidth=this.width.value(),!0)}hasHeightChanged(){return(null==this._oldHeight||this._oldHeight!=this.height.value())&&(this._oldHeight=this.height.value(),!0)}}class F extends G{constructor(e=240){super('',at(e)),this.convertToSec=new L(!0),this.fontSize.set(26),this.showBackground.set(!0),this.colorBackground.set(at(e,20,90)),this.colorBorder.set(at(e)),this.color.set(at(e)),this.border.set(1),this.drawLayer=t.ForeGround}update(t,e){return 1==this.convertToSec.value()?this.content.set('sec:'+Math.ceil(t/1e3).toString()):this.content.set('sec:'+Math.ceil(t).toString()),this.convertToSec.update(t),super.update(t,e),!0}}class P{constructor(t=0){this.framesToSkip=t,this.skipframesCounter=0}skipped(){return this.skipframesCounter<this.framesToSkip?(this.skipframesCounter+=1,!1):(this.skipframesCounter=0,!0)}}class D{constructor(t,e){this.x=t,this.y=e}}class b extends R{constructor(e=20,i='#008000',s=50){super(),this.particleSize=new T(12),this.skipXFrames=new P(s),this.xyArray=[],this.lineWidth=new T(1),this.filled=new L(!0),this.drawLayer=t.MiddleGround,this.count=new T(e),this.color.set(i),this.lineColor=new E(i)}init(t){return super.init(t),this.getRandomXY(),!0}update(t,e){return this.count.update(t),this.particleSize.update(t),this.lineWidth.update(t),this.filled.update(t),super.update(t,e),!0}draw(t){if(1==this.skipXFrames.skipped()&&this.getRandomXY(),this.preDraw(t),null==this.canvasWidth||null==this.canvasHeight)throw new Error('init error');this.drawContentAreaBorder(t),this.style.lineWidth=this.lineWidth.value(),this.style.strokeStyle=this.lineColor.value(),this.style.fillStyle=this.color.value();for(let e=0;e<this.count.value();e++)t.drawCircle(this.xyArray[e].x,this.xyArray[e].y,this.particleSize.value(),this.filled.value(),0,360,this.style);return this.postDraw(t),!0}getRandomXY(){if(null==this.canvasWidth||null==this.canvasHeight)throw new Error('init error');this.xyArray.length=0;for(let t=0;t<this.count.value();t++){const t=this.contentX()+this.contentWidth(),e=this.contentY()+this.contentHeight(),i=this.contentX(),s=this.contentY(),n=new D(Math.floor(Math.random()*(t-i+1)+i),Math.floor(Math.random()*(e-s+1)+s));this.xyArray.push(n)}}}class M extends R{constructor(e,i=25,s=25){if(super(),this.width.set(i),this.height.set(s),this.img=new Image,this.img.src=e,null==this.img)throw new Error('image could not be found');document.body.appendChild(this.img),this.orignalWidth=this.img.clientWidth,this.orignalHeight=this.img.clientHeight,this.img.style.display='none',this.drawLayer=t.MiddleGround}init(t){if(super.init(t),null==this.canvasWidth)throw new Error('init error');if(null==this.canvasHeight)throw new Error('init error');return this.img.setAttribute('width',this.width.value().toString()),this.img.setAttribute('height',this.height.value().toString()),!0}draw(t){return this.preDraw(t),t.drawImage(this.img,this.contentX(),this.contentY(),this.width.value(),this.height.value()),this.postDraw(t),!0}}class U extends R{constructor(e=0,i=0,s=20,n=20,h='#000000'){super(),this.x.set(e),this.y.set(i),this.x2=new A(s),this.y2=new A(n),this.lineWidth=new T(2),this.color.set(h),this.drawLayer=t.MiddleGround}setRespLoc(t=!0){if(super.setRespLoc(t),1==t){const t=this.x2.value(),e=this.y2.value();return this.x2=new A(0),this.x2.set(t),this.y2=new A(0),this.y2.set(e),!0}{const t=this.x2.value(),e=this.y2.value();return this.x2=new T(0),this.x2.set(t),this.y2=new T(0),this.y2.set(e),!1}}init(t){return super.init(t),this.x2 instanceof A&&this.y2 instanceof A&&(this.x2.init(this.canvasWidth()),this.y2.init(this.canvasHeight())),!0}update(t,e){return super.update(t,e),this.x2.update(t),this.y2.update(t),this.lineWidth.update(t),!0}draw(t){return this.style.fillStyle=this.color.value(),this.style.strokeStyle=this.color.value(),this.style.lineWidth=this.lineWidth.value(),this.style.opacity=this.opacity.value(),this.applyRotation(t),t.drawLine(this.x.value(),this.y.value(),this.x2.value(),this.y2.value(),this.style),this.postDraw(t),!0}compWidth(){return Math.floor(Math.abs(this.x2.value()-this.x.value()))}compHeight(){return this.lineWidth.value()}align(t,e){super.align(0,0)}alignRotate(t,e){super.alignRotate(t,0)}}class k extends R{constructor(t=10,e='#ff0000'){super(),this.filled=new L(!0),this.startAngle=new T(0),this.endAngle=new T(360),this.lineWidth=new T(1),this.color.set(e),this.width.set(Math.floor(2*t))}contentHeight(){return this.width.value()}update(t,e){return this.startAngle.update(t),this.endAngle.update(t),this.lineWidth.update(t),this.height.set(this.width.value()),super.update(t,e),!0}draw(t){this.preDraw(t),this.style.fillStyle=this.color.value(),this.style.strokeStyle=this.color.value(),this.style.lineWidth=this.lineWidth.value(),t.beginPath();const e=this.width.value()/2;return t.drawCircle(this.contentX()+this.width.value()/2,this.contentY()+this.width.value()/2,e,this.filled.value(),this.startAngle.value()*(Math.PI/180),this.endAngle.value()*(Math.PI/180),this.style),t.stroke(),this.postDraw(t),!0}}class V extends R{constructor(e='grey',i=.5){super(),this.borderWidth=new T(i),this.color.set(e),this.drawLayer=t.MiddleGround}update(t,e){return super.update(t,e),this.borderWidth.update(t),!0}draw(t){this.style.fillStyle=this.color.value(),this.style.strokeStyle=this.color.value(),this.style.opacity=this.opacity.value();const e=t.canvasWidth()/100*this.borderWidth.value();return t.drawFillRect(0,0,e,t.canvasHeight(),this.style),t.drawFillRect(t.canvasWidth()-e,0,e,t.canvasHeight(),this.style),t.drawFillRect(0,0,t.canvasWidth(),e,this.style),t.drawFillRect(0,t.canvasHeight()-e,t.canvasWidth(),e,this.style),this.postDraw(t),!0}}class z extends R{constructor(t='one two'){super(),this.x_local=0,this.incommingTextArray=t.split(' '),this.colorBackground=new E('grey'),this.textArray=[];for(let t=0;t<this.incommingTextArray.length;t++){const e=this.incommingTextArray[t],i=new G(e);i.border.set(1),i.width.set(30),i.colorBorder.set('hsl(200,100%,50%)'),i.paddingLeft.set(10),i.paddingRight.set(10),i.paddingTop.set(10),i.paddingBottom.set(10),this.textArray.push(i)}}init(t){super.init(t);for(let e=0;e<this.textArray.length;e++){const i=this.textArray[e];i.charsWidth=this.charsWidth,i.init(t)}return!0}update(t,e){this.colorBackground.update(t),super.update(t,e);for(let i=0;i<this.textArray.length;i++){this.textArray[i].update(t,e)}return!0}contentWidth(){if(null!==this.canvasWidth){let t=0;for(let e=0;e<this.textArray.length;e++){t+=this.textArray[e].compWidth()}return t}throw new Error('the component is not initialized yet')}contentHeight(){if(null!==this.canvasWidth){let t=0;for(let e=0;e<this.textArray.length;e++){const i=this.textArray[e];t<i.compHeight()&&(t=i.compHeight())}return t+this.paddingTop.value()+this.paddingBottom.value()}throw new Error('the component is not initialized yet')}setFontSize(t){for(let e=0;e<this.textArray.length;e++){this.textArray[e].width.set(t)}}setFontColor(t){for(let e=0;e<this.textArray.length;e++){this.textArray[e].color.set(t)}}getCell(t){return this.textArray[t]}draw(t){this.preDraw(t),this.style.fillStyle=this.color.value(),this.style.opacity=this.opacity.value(),this.style.strokeStyle=this.color.value();const e=this.yAligned();for(let i=0;i<this.textArray.length;i++){const s=this.textArray[i],n=this.xAligned()+this.x_local+this.paddingLeft.value(),h=e+this.paddingTop.value();s.x.set(n),s.y.set(h),s.draw(t),this.x_local+=s.compWidth()}return this.x_local=0,this.postDraw(t),!0}}class K extends R{constructor(e){if(super(),this.leftExtraPix=0,this.topExtraPix=0,this.img=new Image,this.img.src=e,null==this.img)throw new Error('image could not be found');document.body.appendChild(this.img),this.orignalWidth=this.img.clientWidth,this.orignalHeight=this.img.clientHeight,this.img.style.display='none',this.drawLayer=t.MiddleGround}init(t){if(super.init(t),null==this.canvasWidth)throw new Error('init error');if(null==this.canvasHeight)throw new Error('init error');return!0}draw(t){return!0}}class Q{constructor(t,e,i){this.name=t,this.row=i,this.column=e}}class X extends K{constructor(t,e,i,s,n){super(t),this.imagesList=[],this.totalColumns=s,this.totalRows=n,this.iconWidth=e,this.iconHeight=i,this.width.set(this.iconWidth),this.height.set(this.iconHeight),this.row=new T(0),this.column=new T(0)}update(t,e){return this.row.update(t),this.column.update(t),super.update(t,e),!0}defineImage(t,e,i){const s=new Q(t,e,i);this.imagesList.push(s)}draw(t){return this.preDraw(t),t.drawImageSrcDest(this.img,this.leftExtraPix+this.column.value()*this.iconWidth,this.topExtraPix+this.row.value()*this.iconHeight,this.iconWidth,this.iconHeight,this.xAligned(),this.yAligned(),this.width.value(),this.height.value()),this.postDraw(t),!0}gotoImage(t,e,i){e>this.totalRows||i>this.totalColumns||(this.row.goto(t,e),this.column.goto(t,i))}gotoImageName(t,e){for(let i=0;i<this.imagesList.length;i++)if(this.imagesList[i].name==e)return this.column.goto(t,this.imagesList[i].column),this.row.goto(t,this.imagesList[i].row),!0;return!1}}class Y{constructor(t,e,i,s,n){this.name=t,this.x=e,this.y=i,this.width=s,this.height=n}}class q extends K{constructor(t){super(t),this.imagesList=[],this.currentImage=new T(0)}init(t){return super.init(t),this.imagesList.length,this.currentImage.set(0),!0}update(t,e){return this.currentImage.update(t),this.width.set(this.imagesList[this.currentImage.value()].width),this.height.set(this.imagesList[this.currentImage.value()].height),super.update(t,e),!0}draw(t){return this.preDraw(t),t.drawImageSrcDest(this.img,this.imagesList[this.currentImage.value()].x,this.imagesList[this.currentImage.value()].y,this.imagesList[this.currentImage.value()].width,this.imagesList[this.currentImage.value()].height,this.xAligned(),this.yAligned(),this.width.value(),this.height.value()),this.postDraw(t),!0}defineSprite(t,e,i,s,n){const h=new Y(t,e,i,s,n);this.imagesList.push(h)}gotoSpriteName(t,e){for(let i=0;i<this.imagesList.length;i++)if(this.imagesList[i].name==e)return this.currentImage.goto(t,i),!0;return!1}}class j{constructor(t,e,i='add',s){this.insert=s,this.startTime=t,this.endTime=e,this.actionType=i}circle(t=10,e='red'){let i=new k(t,e);return this.insert(i,this.startTime,this.endTime,this.actionType),i}canvasBorder(t='grey',e=5){let i=new V(t,e);return this.insert(i,this.startTime,this.endTime,this.actionType),i}grid(t=10,e=10,i='grey'){let s=new S(t,e,i);return this.insert(s,this.startTime,this.endTime,this.actionType),s}pic(t,e=10,i=10){let s=new M(t,e,i);return this.insert(s,this.startTime,this.endTime,this.actionType),s}rect(t='#000000'){let e=new x(t);return this.insert(e,this.startTime,this.endTime,this.actionType),e}spriteSheetAlt(t){let e=new q(t);return this.insert(e,this.startTime,this.endTime,this.actionType),e}spriteSheet(t,e,i,s,n){let h=new X(t,e,i,s,n);return this.insert(h,this.startTime,this.endTime,this.actionType),h}text(t='',e='#000000'){let i=new G(t,e);return this.insert(i,this.startTime,this.endTime,this.actionType),i}fillRect(t='#000000'){let e=new N(t);return this.insert(e,this.startTime,this.endTime,this.actionType),e}frameCounter(t=240){let e=new F(t);return this.insert(e,this.startTime,this.endTime,this.actionType),e}particleSystem(t=10,e='#008000',i=50){let s=new b(t,e,i);return this.insert(s,this.startTime,this.endTime,this.actionType),s}line(t=0,e=0,i=20,s=20,n='#000000'){let h=new U(t,e,i,s,n);return this.insert(h,this.startTime,this.endTime,this.actionType),h}row(t='one two'){let e=new z(t);return this.insert(e,this.startTime,this.endTime,this.actionType),e}}class ${constructor(){this._pvt_duration_val=0}len(t=!0){return t?1e3*this._pvt_duration_val:this._pvt_duration_val}extend(t){return this._pvt_duration_val+=t,this._pvt_duration_val}set(t){return this._pvt_duration_val=t,this._pvt_duration_val}}class Z{constructor(t,e,i){this.comps=t,this.duration=e,this.charsWidth=i}addScene(t){const e=t.getComps();for(let t=0;t<e.length;t++){const i=e[t];this.add(i,i.getStartTime(!1),i.getEndTime(!1))}}add(t,e,i){if(t.charsWidth=this.charsWidth,t.setTimings(e,i),t.getStartTime(!1)>this.duration.len(!1)&&this.duration.set(t.getStartTime(!1)),t.getEndTime(!1)>this.duration.len(!1)){let e=t.getEndTime(!1)-this.duration.len(!1);this.duration.extend(e)}return this.comps.push(t)}append(t,e){t.charsWidth=this.charsWidth;const i=this.duration.len(!1),s=i+e;return t.setTimings(i,s),this.duration.extend(t.getDuration()),this.comps.push(t)}alwaysOn(t){return t.charsWidth=this.charsWidth,t.alwaysOn=!0,this.comps.push(t)}}class J{constructor(t='bilza',e=70){this.pack=new st(t,e),this.comps=new H,this.duration=new $,this.lastMsDelta=0,this.soundTrackElement=document.getElementById('soundTrackElement'),this.soundTrack=null,this.stopWatch=new C,this.set=new W(this.pack),this.background=new v,this._insert=new Z(this.comps,this.duration,this.pack.charsWidth.bind(this.pack))}init(){return 1==this.set.loadSystemBackground&&this._insert.alwaysOn(this.background),this.comps.init(this.pack),!0}drawForStart(){let t=this.stopWatch.getMsDelta();return 1==this.stopWatch.shouldStop()?(this.stop(),!1):(window.requestAnimationFrame(this.drawForStart.bind(this)),this.lastMsDelta=t,this.draw_internal(t),!0)}draw(t=0){this.init(),this.draw_internal(t)}draw_internal(e=0){if(null==this.pack)throw new Error('bilzaa is not initialized');e>=this.len(!0)&&this.stopWatch.stop(),1==this.set.clearCanvasBwFrames&&this.pack.clearCanvas(),this.comps.drawByDrawLayer(e,t.SystemBackGround,this.pack),this.comps.drawByDrawLayer(e,t.BackGround,this.pack),this.comps.drawByDrawLayer(e,t.MiddleGround,this.pack),this.comps.drawByDrawLayer(e,t.ForeGround,this.pack),this.drawEvent(e)}len(t=!0){return this.duration.len(t)}drawEvent(t){return!0}dynamicCanvas(t=95,e=null){return this.pack.dynamicCanvas(t,e),!0}start(){return 1!=this.stopWatch.isRunning()&&(this.stop(),null!==this.soundTrackElement&&this.soundTrackElement.play(),this.init(),this.stopWatch.start(),window.requestAnimationFrame(this.drawForStart.bind(this)),!0)}stop(){return null!==this.soundTrackElement&&(this.soundTrackElement.pause(),this.soundTrackElement.currentTime=0),this.stopWatch.stop(),!0}resizeCanvas(t,e){this.pack.resizeCanvas(t,e)}getLastMsDelta(){return this.lastMsDelta}isRunning(){return this.stopWatch.isRunning()}add(t,e){return new j(t,e,'add',this.insert.bind(this))}alwaysOn(){return new j(0,1,'alwaysOn',this.insert.bind(this))}append(t){return new j(0,t,'append',this.insert.bind(this))}insert(t,e,i,s){switch(t.setTimings(e,i),s){case'add':this._insert.add(t,e,i);break;case'append':this._insert.append(t,e);break;case'alwaysOn':this._insert.alwaysOn(t)}return t}addScene(t){this._insert.addScene(t)}}class tt{constructor(t){!function(t){const e=document.getElementById('slider');if(null==e)throw new Error('slider error');const i=e;i.min='0',i.max=t.len(!1).toString(),i.value='0',setInterval((()=>{1==t.isRunning()&&(i.value=Math.ceil(t.getLastMsDelta()/1e3))}),500),i.addEventListener('input',(e=>{t.draw(1e3*e.target.value)}))}(t);const e=document.getElementById('start');if(null===e)throw new Error('start button not found');this.start=e,this.start.addEventListener('click',(e=>{t.start()}));const i=document.getElementById('stop');if(null===i)throw new Error('stop button not found');this.stop=i,this.stop.addEventListener('click',(e=>{t.stop(),slider.value=0,t.draw(0)}))}}function et(t){let e=t/16;return Math.ceil(9*e)}function it(t){return t>100?100:t<0?0:t}class st{constructor(t,e=80){this.canvasId=t,this.canvas=function(t='bilza'){let e=document.getElementById(t);if(null==e){let e=document.createElement('canvas');if(document.getElementsByTagName('body')[0].appendChild(e),e.id=t,e.style.position='static',null==e)throw new Error('canvas not found');return e}{let i=e;if(i.id=t,i.style.position='static',null==i)throw new Error('canvas not found');return i}}(this.canvasId),this.dynamicCanvas(e,null),this.ctx=this.getNewCtx(),this.disableOpacity=!1}getNewCtx(){let t=this.canvas.getContext('2d');if(null==t)throw new Error('could not obtain drawing context');return t}drawBackground(t='blue'){return this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle}canvasWidth(){return this.canvas.width}canvasHeight(){return this.canvas.height}quadraticCurveTo(t,e,i,s){this.commitCtxData(s),this.beginPath(),this.moveTo(t.x,t.y),this.ctx.quadraticCurveTo(i.x,i.y,e.x,e.y),this.stroke()}restore(){this.ctx.restore()}save(){this.ctx.save()}drawImage(t,e,i,s,n){this.ctx.drawImage(t,e,i,s,n)}drawImageSrcDest(t,e,i,s,n,h,r,a,o){this.ctx.drawImage(t,e,i,s,n,h,r,a,o)}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}charsWidth(t,e,i){this.ctx.save(),this.setFont(e,i);let s=this.ctx.measureText(t).width;return this.ctx.restore(),Math.ceil(s)}drawLine(t,e,i,s,n){this.commitCtxData(n),this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,s),this.ctx.stroke()}line(t,e,i,s){this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(i,s),this.ctx.stroke()}beginPath(){this.ctx.beginPath()}closePath(){this.ctx.closePath()}moveTo(t,e){this.ctx.moveTo(t,e)}lineTo(t,e,i){this.commitCtxData(i),this.ctx.lineTo(t,e)}fill(t){this.commitCtxData(t),this.ctx.fill()}stroke(){this.ctx.stroke()}drawRect(t,e,i,s,n){this.commitCtxData(n),this.ctx.beginPath(),this.ctx.rect(t,e,i,s),this.ctx.stroke()}drawFillRect(t,e,i,s,n){this.commitCtxData(n),this.ctx.fillRect(t,e,i,s)}arcTo(t,e,i,s=20){this.commitCtxData(i),this.ctx.arcTo(t.x,t.y,e.x,e.y,s)}drawCircle(t=0,e=0,i=25,s=!1,n=0,h=2*Math.PI,r){this.commitCtxData(r),this.ctx.beginPath(),this.ctx.arc(t,e,i,n,h,!1),1==s&&this.ctx.fill(),this.ctx.stroke()}textBaseline(t){switch(t){case'top':this.ctx.textBaseline='top';break;case'middle':case'bottom':this.ctx.textBaseline='middle';break;case'alphabetic':this.ctx.textBaseline='alphabetic';break;case'hanging':this.ctx.textBaseline='hanging'}}drawText(t,e,i,s){this.commitCtxData(s),this.ctx.textBaseline='top',this.ctx.fillText(t,e,i)}drawIcon(t,e,i,s){this.commitCtxData(s),this.ctx.textBaseline='top',this.ctx.fillText(String.fromCharCode(t),e,i)}drawTextstroke(t,e,i,s){this.commitCtxData(s),this.ctx.textBaseline='top',this.ctx.strokeText(t,e,i)}commitCtxData(t){null!==t.lineCap&&(this.ctx.lineCap='round'),null!==t.opacity&&(1==this.disableOpacity?this.ctx.globalAlpha=1:this.ctx.globalAlpha=t.opacity/100),null!==t.shadowBlur&&(this.ctx.shadowBlur=t.shadowBlur),null!==t.shadowOffsetY&&(this.ctx.shadowOffsetY=t.shadowOffsetY),null!==t.shadowOffsetX&&(this.ctx.shadowOffsetX=t.shadowOffsetX),null!==t.lineWidth&&(this.ctx.lineWidth=t.lineWidth),null!==t.shadowColor&&(this.ctx.shadowColor=t.shadowColor),null!==t.strokeStyle&&(this.ctx.strokeStyle=t.strokeStyle),null!==t.fillStyle&&(this.ctx.fillStyle=t.fillStyle),null!==t.lineDash&&this.ctx.setLineDash(t.lineDash),this.setFont(t.fontSize,t.fontFamily)}setFont(t,e){let i=`${t}px ${e}`;this.ctx.font=i}xPerc(t){let e=this.setBwZeroNhundred(t);return Math.ceil(this.canvas.width/100*e)}pixToXPerc(t){const e=t/this.canvasWidth();return Math.ceil(100*e)}pixToYPerc(t){const e=t/this.canvasHeight();return Math.ceil(100*e)}yPerc(t){let e=this.setBwZeroNhundred(t);return this.canvas.height/100*e}setBwZeroNhundred(t){return t<0?0:t>100?100:t}dynCanvasWidth(t=80){return window.innerWidth/100*it(t)}dynCanvasHeight(t,e=null){return null!==e?window.innerHeight/100*it(e):et(t)}resizeCanvas(t,e){this.canvas.width=t,this.canvas.height=e??et(t)}dynamicCanvas(t=95,e=null){let i=this.dynCanvasWidth(t);return this.resizeCanvas(i,this.dynCanvasHeight(i,e)),!0}rotate(t,e=!1){const i=t*(Math.PI/180);0==e?this.ctx.rotate(i):this.ctx.rotate(-i)}translate(t,e){this.ctx.translate(t,e)}setTransform(t=1,e=0,i=0,s=1,n=0,h=0){this.ctx.setTransform(t,e,i,s,n,h)}}function nt(t){return 1e3*t}class ht extends R{constructor(t=9876,e='#008000'){super(),this.code=t,this.color.set(e),this.fontSize=new T(100),this.fontFamily=i.Calibri}update(t,e){return super.update(t,e),this.fontSize.update(t),!0}contentHeight(){if(null==this.charsWidth)throw new Error('init error');return this.charsWidth(String.fromCharCode(this.code),this.fontSize.value(),this.fontFamily)}contentWidth(){if(null==this.charsWidth)throw new Error('init error');return this.charsWidth(String.fromCharCode(this.code),this.fontSize.value(),this.fontFamily)}draw(t){return this.preDraw(t),this.style.fontSize=this.fontSize.value(),this.style.fillStyle=this.color.value(),this.style.strokeStyle=this.color.value(),t.drawIcon(this.code,this.contentX(),this.contentY(),this.style),this.postDraw(t),!0}}class rt{static Icon(t=9876,e='#008000'){return new ht(t,e)}}function at(t=0,e=100,i=50){return`hsl(${t.toString()},${e.toString()}%,${i.toString()}%)`}(t=>{t[t.TeaCup=9749]='TeaCup',t[t.Danger=9760]='Danger',t[t.YinYang=9775]='YinYang',t[t.CrossSword=9876]='CrossSword',t[t.Heart=9829]='Heart',t[t.FleurDeLis=9884]='FleurDeLis',t[t.StopSign=9940]='StopSign',t[t.GolfGreen=9971]='GolfGreen',t[t.CheckMark=10003]='CheckMark',t[t.HeavyCheckMark=10004]='HeavyCheckMark',t[t.BallotX=10007]='BallotX',t[t.BLACK_SQUARE=9632]='BLACK_SQUARE',t[t.WHITE_SQUARE=9633]='WHITE_SQUARE',t[t.WHITE_SQUARE_WITH_ROUNDED_CORNERS=9634]='WHITE_SQUARE_WITH_ROUNDED_CORNERS',t[t.WHITE_SQUARE_CONTAINING_BLACK_SMALL_SQUARE=9635]='WHITE_SQUARE_CONTAINING_BLACK_SMALL_SQUARE',t[t.SQUARE_WITH_HORIZONTAL_FILL=9636]='SQUARE_WITH_HORIZONTAL_FILL',t[t.SQUARE_WITH_VERTICAL_FILL=9637]='SQUARE_WITH_VERTICAL_FILL',t[t.SQUARE_WITH_ORTHOGONAL_CROSSHATCH_FILL=9638]='SQUARE_WITH_ORTHOGONAL_CROSSHATCH_FILL',t[t.SQUARE_WITH_UPPER_LEFT_TO_LOWER_RIGHT_FILL=9639]='SQUARE_WITH_UPPER_LEFT_TO_LOWER_RIGHT_FILL',t[t.SQUARE_WITH_UPPER_RIGHT_TO_LOWER_LEFT_FILL=9640]='SQUARE_WITH_UPPER_RIGHT_TO_LOWER_LEFT_FILL',t[t.SQUARE_WITH_DIAGONAL_CROSSHATCH_FILL=9641]='SQUARE_WITH_DIAGONAL_CROSSHATCH_FILL',t[t.BLACK_SMALL_SQUARE_=9642]='BLACK_SMALL_SQUARE_',t[t.WHITE_SMALL_SQUARE_=9643]='WHITE_SMALL_SQUARE_',t[t.BLACK_RECTANGLE=9644]='BLACK_RECTANGLE',t[t.WHITE_RECTANGLE=9645]='WHITE_RECTANGLE',t[t.BLACK_VERTICAL_RECTANGLE=9646]='BLACK_VERTICAL_RECTANGLE',t[t.WHITE_VERTICAL_RECTANGLE=9647]='WHITE_VERTICAL_RECTANGLE',t[t.BLACK_PARALLELOGRAM=9648]='BLACK_PARALLELOGRAM',t[t.WHITE_PARALLELOGRAM=9649]='WHITE_PARALLELOGRAM',t[t.BLACK_UP_POINTING_TRIANGLE=9650]='BLACK_UP_POINTING_TRIANGLE',t[t.WHITE_UP_POINTING_TRIANGLE=9651]='WHITE_UP_POINTING_TRIANGLE',t[t.BLACK_UP_POINTING_SMALL_TRIANGLE=9652]='BLACK_UP_POINTING_SMALL_TRIANGLE',t[t.WHITE_UP_POINTING_SMALL_TRIANGLE=9653]='WHITE_UP_POINTING_SMALL_TRIANGLE',t[t.BLACK_RIGHT_POINTING_TRIANGLE=9654]='BLACK_RIGHT_POINTING_TRIANGLE',t[t.WHITE_RIGHT_POINTING_TRIANGLE=9655]='WHITE_RIGHT_POINTING_TRIANGLE',t[t.BLACK_RIGHT_POINTING_SMALL_TRIANGLE=9656]='BLACK_RIGHT_POINTING_SMALL_TRIANGLE',t[t.WHITE_RIGHT_POINTING_SMALL_TRIANGLE=9657]='WHITE_RIGHT_POINTING_SMALL_TRIANGLE',t[t.BLACK_RIGHT_POINTING_POINTER=9658]='BLACK_RIGHT_POINTING_POINTER',t[t.WHITE_RIGHT_POINTING_POINTER=9659]='WHITE_RIGHT_POINTING_POINTER',t[t.BLACK_DOWN_POINTING_TRIANGLE=9660]='BLACK_DOWN_POINTING_TRIANGLE',t[t.WHITE_DOWN_POINTING_TRIANGLE=9661]='WHITE_DOWN_POINTING_TRIANGLE',t[t.BLACK_DOWN_POINTING_SMALL_TRIANGLE=9662]='BLACK_DOWN_POINTING_SMALL_TRIANGLE',t[t.WHITE_DOWN_POINTING_SMALL_TRIANGLE=9663]='WHITE_DOWN_POINTING_SMALL_TRIANGLE',t[t.BLACK_LEFT_POINTING_TRIANGLE=9664]='BLACK_LEFT_POINTING_TRIANGLE',t[t.WHITE_LEFT_POINTING_TRIANGLE=9665]='WHITE_LEFT_POINTING_TRIANGLE',t[t.BLACK_LEFT_POINTING_SMALL_TRIANGLE=9666]='BLACK_LEFT_POINTING_SMALL_TRIANGLE',t[t.WHITE_LEFT_POINTING_SMALL_TRIANGLE=9667]='WHITE_LEFT_POINTING_SMALL_TRIANGLE',t[t.BLACK_LEFT_POINTING_POINTER=9668]='BLACK_LEFT_POINTING_POINTER',t[t.WHITE_LEFT_POINTING_POINTER=9669]='WHITE_LEFT_POINTING_POINTER',t[t.BLACK_DIAMOND=9670]='BLACK_DIAMOND',t[t.WHITE_DIAMOND=9671]='WHITE_DIAMOND',t[t.WHITE_DIAMOND_CONTAINING_BLACK_SMALL_DIAMOND=9672]='WHITE_DIAMOND_CONTAINING_BLACK_SMALL_DIAMOND',t[t.FISHEYE=9673]='FISHEYE',t[t.LOZENGE=9674]='LOZENGE',t[t.WHITE_CIRCLE=9675]='WHITE_CIRCLE',t[t.DOTTED_CIRCLE=9676]='DOTTED_CIRCLE',t[t.CIRCLE_WITH_VERTICAL_FILL=9677]='CIRCLE_WITH_VERTICAL_FILL',t[t.BULLSEYE=9678]='BULLSEYE',t[t.BLACK_CIRCLE=9679]='BLACK_CIRCLE',t[t.CIRCLE_WITH_LEFT_HALF_BLACK=9680]='CIRCLE_WITH_LEFT_HALF_BLACK',t[t.CIRCLE_WITH_RIGHT_HALF_BLACK=9681]='CIRCLE_WITH_RIGHT_HALF_BLACK',t[t.CIRCLE_WITH_LOWER_HALF_BLACK=9682]='CIRCLE_WITH_LOWER_HALF_BLACK',t[t.CIRCLE_WITH_UPPER_HALF_BLACK=9683]='CIRCLE_WITH_UPPER_HALF_BLACK',t[t.CIRCLE_WITH_UPPER_RIGHT_QUADRANT_BLACK=9684]='CIRCLE_WITH_UPPER_RIGHT_QUADRANT_BLACK',t[t.CIRCLE_WITH_ALL_BUT_UPPER_LEFT_QUADRANT_BLACK=9685]='CIRCLE_WITH_ALL_BUT_UPPER_LEFT_QUADRANT_BLACK',t[t.LEFT_HALF_BLACK_CIRCLE=9686]='LEFT_HALF_BLACK_CIRCLE',t[t.RIGHT_HALF_BLACK_CIRCLE=9687]='RIGHT_HALF_BLACK_CIRCLE',t[t.INVERSE_BULLET=9688]='INVERSE_BULLET',t[t.INVERSE_WHITE_CIRCLE=9689]='INVERSE_WHITE_CIRCLE',t[t.UPPER_HALF_INVERSE_WHITE_CIRCLE=9690]='UPPER_HALF_INVERSE_WHITE_CIRCLE',t[t.LOWER_HALF_INVERSE_WHITE_CIRCLE=9691]='LOWER_HALF_INVERSE_WHITE_CIRCLE',t[t.UPPER_LEFT_QUADRANT_CIRCULAR_ARC=9692]='UPPER_LEFT_QUADRANT_CIRCULAR_ARC',t[t.UPPER_RIGHT_QUADRANT_CIRCULAR_ARC=9693]='UPPER_RIGHT_QUADRANT_CIRCULAR_ARC',t[t.LOWER_RIGHT_QUADRANT_CIRCULAR_ARC=9694]='LOWER_RIGHT_QUADRANT_CIRCULAR_ARC',t[t.LOWER_LEFT_QUADRANT_CIRCULAR_ARC=9695]='LOWER_LEFT_QUADRANT_CIRCULAR_ARC',t[t.UPPER_HALF_CIRCLE=9696]='UPPER_HALF_CIRCLE',t[t.LOWER_HALF_CIRCLE=9697]='LOWER_HALF_CIRCLE',t[t.BLACK_LOWER_RIGHT_TRIANGLE=9698]='BLACK_LOWER_RIGHT_TRIANGLE',t[t.BLACK_LOWER_LEFT_TRIANGLE=9699]='BLACK_LOWER_LEFT_TRIANGLE',t[t.BLACK_UPPER_LEFT_TRIANGLE=9700]='BLACK_UPPER_LEFT_TRIANGLE',t[t.BLACK_UPPER_RIGHT_TRIANGLE=9701]='BLACK_UPPER_RIGHT_TRIANGLE',t[t.WHITE_BULLET=9702]='WHITE_BULLET',t[t.SQUARE_WITH_LEFT_HALF_BLACK=9703]='SQUARE_WITH_LEFT_HALF_BLACK',t[t.SQUARE_WITH_RIGHT_HALF_BLACK=9704]='SQUARE_WITH_RIGHT_HALF_BLACK',t[t.SQUARE_WITH_UPPER_LEFT_DIAGONAL_HALF_BLACK=9705]='SQUARE_WITH_UPPER_LEFT_DIAGONAL_HALF_BLACK',t[t.SQUARE_WITH_LOWER_RIGHT_DIAGONAL_HALF_BLACK=9706]='SQUARE_WITH_LOWER_RIGHT_DIAGONAL_HALF_BLACK',t[t.WHITE_SQUARE_WITH_VERTICAL_BISECTING_LINE=9707]='WHITE_SQUARE_WITH_VERTICAL_BISECTING_LINE',t[t.WHITE_UP_POINTING_TRIANGLE_WITH_DOT=9708]='WHITE_UP_POINTING_TRIANGLE_WITH_DOT',t[t.UP_POINTING_TRIANGLE_WITH_LEFT_HALF_BLACK=9709]='UP_POINTING_TRIANGLE_WITH_LEFT_HALF_BLACK',t[t.UP_POINTING_TRIANGLE_WITH_RIGHT_HALF_BLACK=9710]='UP_POINTING_TRIANGLE_WITH_RIGHT_HALF_BLACK',t[t.LARGE_CIRCLE=9711]='LARGE_CIRCLE',t[t.WHITE_SQUARE_WITH_UPPER_LEFT_QUADRANT=9712]='WHITE_SQUARE_WITH_UPPER_LEFT_QUADRANT',t[t.WHITE_SQUARE_WITH_LOWER_LEFT_QUADRANT=9713]='WHITE_SQUARE_WITH_LOWER_LEFT_QUADRANT',t[t.WHITE_SQUARE_WITH_LOWER_RIGHT_QUADRANT=9714]='WHITE_SQUARE_WITH_LOWER_RIGHT_QUADRANT',t[t.WHITE_SQUARE_WITH_UPPER_RIGHT_QUADRANT=9715]='WHITE_SQUARE_WITH_UPPER_RIGHT_QUADRANT',t[t.WHITE_CIRCLE_WITH_UPPER_LEFT_QUADRANT=9716]='WHITE_CIRCLE_WITH_UPPER_LEFT_QUADRANT',t[t.WHITE_CIRCLE_WITH_LOWER_LEFT_QUADRANT=9717]='WHITE_CIRCLE_WITH_LOWER_LEFT_QUADRANT',t[t.WHITE_CIRCLE_WITH_LOWER_RIGHT_QUADRANT=9718]='WHITE_CIRCLE_WITH_LOWER_RIGHT_QUADRANT',t[t.WHITE_CIRCLE_WITH_UPPER_RIGHT_QUADRANT=9719]='WHITE_CIRCLE_WITH_UPPER_RIGHT_QUADRANT',t[t.UPPER_LEFT_TRIANGLE=9720]='UPPER_LEFT_TRIANGLE',t[t.UPPER_RIGHT_TRIANGLE=9721]='UPPER_RIGHT_TRIANGLE',t[t.LOWER_LEFT_TRIANGLE=9722]='LOWER_LEFT_TRIANGLE',t[t.WHITE_MEDIUM_SQUARE=9723]='WHITE_MEDIUM_SQUARE',t[t.BLACK_MEDIUM_SQUARE=9724]='BLACK_MEDIUM_SQUARE',t[t.WHITE_MEDIUM_SMALL_SQUARE=9725]='WHITE_MEDIUM_SMALL_SQUARE',t[t.BLACK_MEDIUM_SMALL_SQUARE=9726]='BLACK_MEDIUM_SMALL_SQUARE',t[t.LOWER_RIGHT_TRIANGLE=9727]='LOWER_RIGHT_TRIANGLE'})(h||(h={}));class ot{static emoji(){return new X('../images/emoji.png',72,72,16,10)}static ghosts(t){const e=function(t){const e=new q(t);return e.defineSprite('blue',27,21,113,112),e.defineSprite('greenAlien',146,18,116,109),e.defineSprite('angel',263,20,135,116),e.defineSprite('redDeamon',396,16,130,123),e.defineSprite('robot',529,15,121,119),e.defineSprite('windows',647,22,121,123),e.defineSprite('military',26,140,118,130),e.defineSprite('candy',144,140,109,130),e.defineSprite('chocolate',269,140,134,130),e.defineSprite('cowboy',402,140,126,130),e.defineSprite('bowtie',525,140,128,130),e.defineSprite('wall',653,140,123,130),e.defineSprite('cat',27,272,121,130),e.defineSprite('chinese',146,260,118,130),e.defineSprite('japanese',257,279,139,121),e.defineSprite('kid',398,273,121,121),e.defineSprite('ninja',523,269,121,123),e.defineSprite('pirate',640,281,123,111),e.defineSprite('nurse',29,400,114,132),e.defineSprite('cop',140,400,116,128),e.defineSprite('santa',272,400,121,125),e.defineSprite('queen',392,395,130,130),e.defineSprite('punk',534,395,111,121),e.defineSprite('checker',665,411,112,103),e.defineSprite('stripes',277,529,111,100),e.defineSprite('glasses',404,528,116,100),e}(t);return e}}function lt(t,e){return Math.floor(Math.random()*(e-t+1)+t)}class dt{constructor(t,e){if(this.comps=[],this._startTime=t,this._endTime=e,this._duration=this._endTime-this._startTime,this._duration<1)throw new Error('start time can not be smaller than end time');this._duration}getComps(){return this.comps}getStartTime(){return this._startTime}getEndTime(){return this._endTime}duration(){return this._duration}add(t=0,e=0){return new j(t,e,'add',this.insert.bind(this))}insert(t,e,i,s){return this.setCompTimings(t,e,i),this.comps.push(t),t}setCompTimings(t,e=0,i=0){this.minDurationViolation(t,e,i);const s=this.startTimePlus(e),n=this.endTimeMinus(i);t.setTimings(s,n),this.comps.push(t)}startTimePlus(t=0){const e=this._startTime+t;if(e>this.getEndTime()-1)throw new Error(`components start and end time should be with in the start and end time of the scene (which in this case is ${this.getStartTime()} and ${this.getEndTime()}`);return e}endTimeMinus(t=0){const e=this._endTime-t;if(e<=0)throw new Error('Negative end time');if(e>this.getEndTime())throw new Error(`components start and end time should be with in the start and end time of the scene (which in this case is ${this.getStartTime()} and ${this.getEndTime()}`);if(e<=this._startTime)throw new Error('scene minimum width violation');return e}minDurationViolation(t,e,i){if(i+e>=this._duration)throw new Error(`Scene minimum duration violated by component id:${t.id}. The scene minimum duration may be more than you have given it`)}}function ct(t,e,i,s){const n=t.add().fillRect(e);return n.x.set(i),n.y.set(s),n.width.set(50),n.height.set(50),n.entryAni.fadeIn(),n.exitAni.fadeOut(),n}function ut(t,e,i,s){const n=t.add().fillRect(e);return n.x.set(i),n.y.set(s),n.width.set(25),n.height.set(50),n}function _t(t,e,i,s){const n=t.add().fillRect(e);n.x.set(i),n.y.set(s),n.width.set(34),n.height.set(50)}class pt{static eightSq(t,e,i=at(0),s=at(120),n=at(240),h=at(60),r=at(0),a=at(180),o=at(0),l=at(100)){const d=function(t,e,i=at(0),s=at(120),n=at(240),h=at(60),r=at(0),a=at(180),o=at(0),l=at(100)){const d=new dt(t,e);return ut(d,i,0,0),ut(d,s,25,0),ut(d,n,50,0),ut(d,h,75,0),ut(d,r,0,50),ut(d,a,25,50),ut(d,o,50,50),ut(d,l,75,50),d}(t,e,i,s,n,h,r,a,o,l);return d}static sixSq(t,e,i=at(0),s=at(120),n=at(240),h=at(60),r=at(0),a=at(180)){const o=function(t,e,i=at(0),s=at(120),n=at(240),h=at(60),r=at(0),a=at(180)){const o=new dt(t,e);return _t(o,i,0,0),_t(o,s,33,0),_t(o,n,66,0),_t(o,h,0,50),_t(o,r,33,50),_t(o,a,66,50),o}(t,e,i,s,n,h,r,a);return o}static fourSq(t,e,i=at(0),s=at(120),n=at(240),h=at(300)){const r=function(t,e,i=at(0),s=at(120),n=at(240),h=at(300)){const r=new dt(t,e);return ct(r,i,0,0),ct(r,s,50,0),ct(r,n,0,50),ct(r,h,50,50),r}(t,e,i,s,n,h);return r}static twoSqHor(t,e,i=at(0),s=at(120)){const n=function(t,e,i=at(0),s=at(120)){const n=new dt(t,e),h=n.add().fillRect(i);h.setxy(0,0),h.width.set(100),h.height.set(50),h.exitAni.fadeOut(),h.entryAni.leftIn();const r=n.add().fillRect(s);return r.setxy(0,50),r.width.set(100),r.height.set(50),r.exitAni.fadeOut(),r.entryAni.rightIn(),n}(t,e,i,s);return n}static twoSqVer(t,e,i=at(0),s=at(120)){const n=function(t,e,i=at(0),s=at(120)){const n=new dt(t,e),h=n.add().fillRect(i);h.setxy(0,0),h.width.set(50),h.height.set(100),h.exitAni.fadeOut(),h.entryAni.leftIn();const r=n.add().fillRect(s);return r.setxy(50,0),r.width.set(50),r.height.set(100),r.exitAni.fadeOut(),r.entryAni.rightIn(),n}(t,e,i,s);return n}static swingJt(t,e,i='Welcome To Bilza.js',s=0){const n=function(t,e,i='Welcome To Bilza.js',s=0){const n=new dt(t,e),h=n.add().text(i);return h.templ.jumbotron(),h.alignRotate(1,0),h.rotation.oscillate(t,e,-15,15,3),h.theme.color(s),h.exitAni.fadeOut(),n}(t,e,i,s);return n}static jt(t,e,i='Welcome To Bilza.js',s=0){const n=function(t,e,i='Welcome To Bilza.js',s=0){const n=new dt(t,e),h=n.add().text(i);return h.align(1,1),h.x.set(50),h.y.set(50),h.templ.jumbotron().theme.color(s).entryAni.fadeIn().exitAni.fadeOut(),n}(t,e,i,s);return n}static hdg3bp(t,e,i=240,s='',n='',h=0,r='',a=0,o='',l=0,d='',c=0,u=5){const _=function(t,e,i=240,s='',n='',h=0,r='',a=0,o='',l=0,d='',c=0,u=5){const _=new dt(t,e);if(''!==s){const t=_.add().text(s).templ.hdg();t.y.set(u),t.theme.color(i),t.entryAni.topIn(),t.exitAni.fadeOut()}''!==n&&_.add(h,0).text(n).templ.bltPt(1,35,7).theme.color(i).entryAni.fadeIn().exitAni.fadeOut();''!==r&&_.add(a,0).text(r).templ.bltPt(1,55,7).theme.color(i).entryAni.fadeIn().exitAni.fadeOut();''!==o&&_.add(l,0).text(o).templ.bltPt(1,75,7).theme.color(i).entryAni.fadeIn().exitAni.fadeOut();if(''!==d){const t=_.add(c).text(d);t.templ.ftNote(0,92,5),t.theme.color(i),t.entryAni.leftIn(),t.exitAni.fadeOut()}return _}(t,e,i,s,n,h,r,a,o,l,d,c,u);return _}static hdg2bp(t,e,i=240,s='',n='',h=0,r='',a=0,o='',l=0,d=5){const c=function(t,e,i=240,s='',n='',h=0,r='',a=0,o='',l=0,d=5){const c=new dt(t,e);if(''!==s){const t=c.add().text(s).templ.hdg();t.y.set(d),t.theme.color(i),t.entryAni.topIn(),t.exitAni.fadeOut()}''!==n&&c.add(h,0).text(n).templ.bltPt(1,45,7).theme.color(i).entryAni.fadeIn().exitAni.fadeOut();''!==r&&c.add(a,0).text(r).templ.bltPt(1,75,7).theme.color(i).entryAni.fadeIn().exitAni.fadeOut();if(''!==o){const t=c.add(l).text(o);t.templ.ftNote(0,92,5),t.theme.color(i),t.entryAni.leftIn(),t.exitAni.fadeOut()}return c}(t,e,i,s,n,h,r,a,o,l,d);return c}static hdg1bp(t,e,i=240,s='',n='',h=0,r='',a=0,o=5){const l=function(t,e,i=240,s='',n='',h=0,r='',a=0,o=25){const l=new dt(t,e);if(''!==s){const t=l.add().text(s).templ.hdg(1,o);t.theme.color(i),t.entryAni.topIn(),t.exitAni.fadeOut()}''!==n&&l.add(h,0).text(n).templ.bltPt(1,55,7).theme.color(i).entryAni.fadeIn().exitAni.fadeOut();if(''!==r){const t=l.add(a).text(r);t.templ.ftNote(0,92,5),t.theme.color(i),t.entryAni.leftIn(),t.exitAni.fadeOut()}return l}(t,e,i,s,n,h,r,a,o);return l}}export{R as BaseComponent,J as Bilza,j as CompFactory,t as DrawLayer,rt as Experimental,i as FontFamily,st as Pack,ot as PremadeSpriteSheets,dt as Scene,pt as Scenes,X as SpriteSheet,q as SpriteSheetAlt,I as Style,h as UTFIcons,tt as Ui,s as XAlignOpt,n as YAlignOpt,J as default,lt as getRandom,at as hsl,nt as k};
